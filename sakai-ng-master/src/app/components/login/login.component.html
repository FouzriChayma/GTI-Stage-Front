<div class="bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden">
  <div class="flex flex-col items-center justify-center">
    <div style="border-radius: 56px; padding: 0.3rem; background: linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)">
      <div class="w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20" style="border-radius: 53px">
        <div class="text-center mb-8">
          <svg viewBox="0 0 54 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="mb-8 w-16 shrink-0 mx-auto">
            <!-- SVG remains unchanged -->
          </svg>
          <div class="text-surface-900 dark:text-surface-0 text-3xl font-medium mb-4">
            {{ mode === 'login' ? 'Welcome to E-Transfert!' : 'Join E-Transfert!' }}
          </div>
          <span class="text-muted-color font-medium">
            {{ mode === 'login' ? 'Sign in to continue' : 'Create an account' }}
          </span>
        </div>

        <div>
          <ng-container *ngIf="mode === 'login'; else registerForm">
            <label for="email1" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Email</label>
            <input
              pInputText
              id="email1"
              type="text"
              placeholder="Enter your email"
              class="w-full md:w-[30rem] mb-8"
              [(ngModel)]="email"
              [class.p-invalid]="submitted && isEmailInvalid()"
            />
            <small *ngIf="submitted && isEmailInvalid()" class="p-error text-xs mt-1 block">
              {{ !email ? 'Email is required' : 'Invalid email format' }}
            </small>

            <label for="password1" class="block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2">Password</label>
            <p-password
              id="password1"
              [(ngModel)]="password"
              placeholder="Enter your password"
              [toggleMask]="true"
              styleClass="mb-4 w-full"
              [fluid]="true"
              [feedback]="false"
              [class.p-invalid]="submitted && !password"
            ></p-password>
            <small *ngIf="submitted && !password" class="p-error text-xs mt-1 block">
              Password is required
            </small>

            <div class="flex items-center justify-between mt-2 mb-8 gap-8">
              <div class="flex items-center">
                <p-checkbox [(ngModel)]="checked" id="rememberme1" binary class="mr-2"></p-checkbox>
                <label for="rememberme1">Remember me</label>
              </div>
              <span class="font-medium no-underline ml-2 text-right cursor-pointer text-primary">Forgot password?</span>
            </div>
          </ng-container>
          <ng-template #registerForm>
            <label for="email1" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Email</label>
            <input
              pInputText
              id="email1"
              type="text"
              placeholder="Enter your email"
              class="w-full md:w-[30rem] mb-8"
              [(ngModel)]="email"
              [class.p-invalid]="submitted && isEmailInvalid()"
            />
            <small *ngIf="submitted && isEmailInvalid()" class="p-error text-xs mt-1 block">
              {{ !email ? 'Email is required' : 'Invalid email format' }}
            </small>

            <label for="firstName1" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">First Name</label>
            <input
              pInputText
              id="firstName1"
              type="text"
              placeholder="Enter your first name"
              class="w-full md:w-[30rem] mb-8"
              [(ngModel)]="firstName"
              [class.p-invalid]="submitted && isFirstNameInvalid()"
            />
            <small *ngIf="submitted && isFirstNameInvalid()" class="p-error text-xs mt-1 block">
              {{ !firstName ? 'First name is required' : 'First name must not exceed 50 characters' }}
            </small>

            <label for="lastName1" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Last Name</label>
            <input
              pInputText
              id="lastName1"
              type="text"
              placeholder="Enter your last name"
              class="w-full md:w-[30rem] mb-8"
              [(ngModel)]="lastName"
              [class.p-invalid]="submitted && isLastNameInvalid()"
            />
            <small *ngIf="submitted && isLastNameInvalid()" class="p-error text-xs mt-1 block">
              {{ !lastName ? 'Last name is required' : 'Last name must not exceed 50 characters' }}
            </small>

            <label for="phoneNumber1" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Phone Number</label>
            <input
              pInputText
              id="phoneNumber1"
              type="text"
              placeholder="Enter your phone number"
              class="w-full md:w-[30rem] mb-8"
              [(ngModel)]="phoneNumber"
              [class.p-invalid]="submitted && isPhoneNumberInvalid()"
            />
            <small *ngIf="submitted && isPhoneNumberInvalid()" class="p-error text-xs mt-1 block">
              {{ !phoneNumber ? 'Phone number is required' : 'Invalid phone number format' }}
            </small>

            <label for="role1" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Role</label>
            <p-dropdown
              id="role1"
              [(ngModel)]="role"
              [options]="roleOptions"
              optionLabel="label"
              optionValue="value"
              placeholder="Select a role"
              styleClass="w-full md:w-[30rem] mb-8"
            ></p-dropdown>

            <label for="password1" class="block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2">Password</label>
            <p-password
              id="password1"
              [(ngModel)]="password"
              placeholder="Enter your password"
              [toggleMask]="true"
              styleClass="mb-4 w-full"
              [fluid]="true"
              [feedback]="true"
              [class.p-invalid]="submitted && isPasswordInvalid()"
            ></p-password>
            <small *ngIf="submitted && isPasswordInvalid()" class="p-error text-xs mt-1 block">
              Password must be at least 6 characters
            </small>
          </ng-template>

          <p-button
            styleClass="w-full"
            [disabled]="isLoading"
            (click)="submitForm()"
          >
            <i class="pi pi-spin pi-spinner mr-2" *ngIf="isLoading"></i>
            {{ isLoading ? (mode === 'login' ? 'Signing In...' : 'Registering...') : (mode === 'login' ? 'Sign In' : 'Register') }}
          </p-button>

          <div class="text-center mt-4">
            <span class="text-muted-color font-medium">
              {{ mode === 'login' ? 'Donâ€™t have an account?' : 'Already have an account?' }}
              <a class="font-medium text-primary cursor-pointer" (click)="toggleMode(mode === 'login' ? 'register' : 'login')">
                {{ mode === 'login' ? 'Register' : 'Sign In' }}
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <p-toast></p-toast>
</div>